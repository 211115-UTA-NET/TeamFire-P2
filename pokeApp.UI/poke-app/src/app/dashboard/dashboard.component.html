<body>
    <div class="pgtitle" [hidden]="!isShow">
        <h1>Trading Center</h1>
    </div>
    <div class="pgtitle" [hidden]="isShow">
        <h1>{{dbUserInfo[0].userName}}'s Profile</h1>
    </div>
    <nav class="topnav">
        <a (click)="toggle()">{{buttonName}}</a>
        <a routerLink="/tradesearch">Trade Search</a>
        <a routerLink="/tradehistory">Trade History</a>
        <a (click)="logout()">Log out</a>
    </nav>
    <br>
    <!-- <label for="search-box">Search For Pokemon: </label>
    <input #searchBox id="search-box" /> -->
    <div class="trades" *ngIf="isShow; else profile">
        <!-- <ul class="items">
            <li *ngFor="let trade of trades">
                <a routerLink="/detail/{{trade.id}}">
                    <span class="badge">{{hero.id}}</span> {{hero.name}}
                </a>
                <p>offeredBy: {{ trade.offeredBy }}, redeemedBy: {{ trade.redeemedBy }}</p>
            </li>
        </ul> -->
        <mat-grid-list class="grid" cols="4" rowHeight="2:3">
            <mat-grid-tile *ngFor="let card of tradableCards">
                <mat-card class="example-card">
                    <img mat-card-image src="../../assets/images/{{card.pokeID}}.png" alt="Photo of {{card.pokemon}}">
                    <mat-card-title>#{{card.pokeID}} {{card.pokemon}}</mat-card-title>
                    <mat-card-subtitle>Owner: {{card.userName}}</mat-card-subtitle>
                    <mat-card-actions>
                        <button mat-button class="button"
                            (click)="openModal(card.cardID, card.userName)">Trade!</button>
                    </mat-card-actions>
                </mat-card>
                <jw-modal id={{card.cardID}}>
                    <span style="font-size: 46px; font-weight: bold;">
                        Trading with {{userName}}
                    </span>
                    <br>
                    <br>

                    <div class="miniwindow">
                        You want to offer
                        <select class="select-list">
                            <option class="select-opt" *ngFor="let mycard of userCards">
                                #{{mycard.pokeID}} {{mycard.pokemon}}</option>
                        </select>
                        to redeem
                        <span style="color: #8400ff; font-weight: bold;">
                            #{{card.pokeID}} {{card.pokemon}}</span>?
                    </div>
                    <button class="button">Send Request</button>
                    <br><br>
                    <button class='close-btn' (click)="closeModal(card.cardID);">Close</button>
                </jw-modal>
            </mat-grid-tile>
        </mat-grid-list>
    </div>
    <ng-template #profile>
        <app-profile [dbUserInfo]=dbUserInfo [userCards]=userCards></app-profile>
    </ng-template>
</body>